{"version":3,"sources":["webpack://indb/webpack/universalModuleDefinition","webpack://indb/webpack/bootstrap","webpack://indb/src/indb.js","webpack://indb/src/utils.js","../src/operation.js","../src/record.js","../src/index.js","test.js","C:/Users/guod/AppData/Local/Yarn/Data/global/node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["InDB","options","name","version","stores","Error","Array","isArray","length","request","indexedDB","open","onupgradeneeded","e","db","target","result","existStoreNames","from","objectStoreNames","passStoreNames","forEach","item","objectStore","indexOf","transaction","keyPath","isKeyValue","autoIncrement","createObjectStore","indexNames","deleteIndex","indexes","createIndex","unique","multiEntry","push","deleteObjectStore","using","Promise","resolve","reject","onerror","error","onsuccess","currentStore","find","store","InDBStore","key","i","keys","then","getItem","get","obj","value","setItem","put","removeItem","connect","close","writable","mode","tx","create","index","range","direction","onTouch","onDone","onError","owner","openCursor","cursor","fn","next","stop","abort","fns","promises","deferer","all","map","batch","getAllKeys","getAll","count","iterate","offset","results","start","end","Math","min","reverse","some","items","compare","IDBKeyRange","lowerBound","upperBound","undefined","only","targetObj","targetValue","parse","conditions","indexesMapping","or_conditions","and_conditions","len","optional","determine","compareAandB","a","b","current","each","add","objs","keyPah","clear","idb","use","bind","makeKeyChain","path","chain","toString","split","filter","makeKeyPath","test","modifyError","message","pipeline","through","uuid","Operation","id","Record","RECORD","OPERATION","noop","ErrorWatcher","init","document","addEventListener","currentEvent","window","event","console","log","setTimeout","record","operation","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","call","hot","data","hotData","_acceptCallbacks","_disposeCallbacks","accept","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","JSON","type","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","js","hmrApply","v","hmrAcceptRun","reload","onclose","removeErrorOverlay","stack","overlay","createErrorOverlay","body","appendChild","getElementById","remove","createElement","stackTrace","innerText","innerHTML","getParents","modules","parents","k","d","dep","concat","Function","deps","cached","cache","cb"],"mappings":"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","file":"test.e98b79dd.js","sourceRoot":"..\\package\\monitorJS\\dev","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"indb\"] = factory();\n\telse\n\t\troot[\"indb\"] = factory();\n})(typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import { parse } from './utils'\n\nexport class InDB {\n\tconstructor(options = {}) {\n\t\tlet { name, version = 1, stores } = options\n\n\t\tif (!name) {\n\t\t\tthrow new Error('[InDB]: you should pass `name` option.')\n\t\t}\n\n\t\tif (!stores || !Array.isArray(stores) || !stores.length) {\n\t\t\tthrow new Error('[InDB]: you should pass `stores` option.')\n\t\t}\n\n\t\tthis.name = name\n\t\tthis.version = version\n\t\tthis.stores = stores\n\n\t\t// update database structure\n\t\tconst request = indexedDB.open(name, version)\n\t\trequest.onupgradeneeded = (e) => {\n\t\t\tlet db = e.target.result\n\t\t\tlet existStoreNames = Array.from(db.objectStoreNames)\n\t\t\tlet passStoreNames = []\n\n\t\t\tstores.forEach((item) => {\n\t\t\t\tlet objectStore = null\n\t\t\t\tif (existStoreNames.indexOf(item.name) > -1) {\n\t\t\t\t\tobjectStore = e.target.transaction.objectStore(item.name)\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tlet keyPath = item.isKeyValue ? 'key' : item.keyPath\n\t\t\t\t\tlet autoIncrement = item.isKeyValue ? false : item.autoIncrement\n\t\t\t\t\tobjectStore = db.createObjectStore(item.name, { keyPath, autoIncrement })\n\t\t\t\t}\n\n\t\t\t\t// delete old indexes\n\t\t\t\tlet indexNames = objectStore.indexNames\n\t\t\t\tif (indexNames && indexNames.length) {\n\t\t\t\t\tArray.from(indexNames).forEach((item) => objectStore.deleteIndex(item))\n\t\t\t\t}\n\n\t\t\t\t// add new indexes\n\t\t\t\tif (item.indexes && item.indexes.length) {\n\t\t\t\t\titem.indexes.forEach((item) => {\n\t\t\t\t\t\tobjectStore.createIndex(item.name, item.keyPath || item.name, { unique: item.unique, multiEntry: Array.isArray(item.keyPath) })\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t\tpassStoreNames.push(item.name)\n\t\t\t})\n\n\t\t\t// delete objectStores which is not in config information\n\t\t\tif (existStoreNames) {\n\t\t\t\texistStoreNames.forEach((item) => {\n\t\t\t\t\tif (passStoreNames.indexOf(item) === -1) {\n\t\t\t\t\t\tdb.deleteObjectStore(item)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\n\t\tthis.using = {}\n\t}\n\tconnect() {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tconst request = indexedDB.open(this.name, this.version)\n\t\t\trequest.onerror = (e) => {\n\t\t\t\tconst error = e.target.error\n\t\t\t\treject(error)\n\t\t\t}\n\t\t\trequest.onsuccess = (e) => {\n\t\t\t\tresolve(e.target.result)\n\t\t\t}\n\t\t})\n\t}\n\tuse(name) {\n\t\tconst currentStore = this.stores.find(item => item.name === name)\n\n\t\tif (!currentStore) {\n\t\t\tthrow new Error(`[InDB]: store ${name} is not existing.`)\n\t\t}\n\n\t\t// use connected store\n\t\tif (this.using[name]) {\n\t\t\treturn this.using[name]\n\t\t}\n\n\t\tconst store = new InDBStore({\n\t\t\tdb: this,\n\t\t\tstore: currentStore,\n\t\t})\n\n\t\t// if it is a key-value store, append special methods\n\t\tif (currentStore.isKeyValue) {\n\t\t\tstore.key = i => store.keys().then(keys => keys && keys[i])\n\t\t\tstore.getItem = key => store.get(key).then(obj => obj && obj.value)\n\t\t\tstore.setItem = (key, value) => store.put({ key, value })\n\t\t\tstore.removeItem = key => store.delete(key)\n\t\t}\n\n\t\tthis.using[name] = store\n\n\t\treturn store\n\t}\n\tclose() {\n\t\tthis.using = null\n\t\tthis.stores = null\n\n\t\treturn this.connect().then((db) => {\n\t\t\tdb.close()\n\t\t})\n\t}\n}\n\nexport class InDBStore {\n\tconstructor(options = {}) {\n\t\tconst { store, db } = options\n\n\t\tif (typeof store !== 'object' || !store.name || typeof store.name !== 'string') {\n\t\t\tthrow new Error(`[InDBStore]: options.store should be a store config object.`)\n\t\t}\n\n\t\tif (!(db instanceof InDB)) {\n\t\t\tthrow new Error(`[InDBStore]: options.db should be an instanceof InDB.`)\n\t\t}\n\n\t\tthis.store = store\n\t\tthis.db = db\n\t\tthis.name = store.name\n\t\tthis.keyPath = store.isKeyValue ? 'key' : store.keyPath\n\t}\n\n\ttransaction(writable = false) {\n\t\tconst name = this.name\n\t\tconst mode = writable ? 'readwrite' : 'readonly'\n\t\treturn this.db.connect().then(db => db.transaction(name, mode))\n\t}\n\tobjectStore(writable = false) {\n\t\tconst name = this.name\n\t\treturn this.transaction(writable).then(tx => tx.objectStore(name))\n\t}\n\trequest(create, writable = false) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tthis.objectStore(writable).then((objectStore) => {\n\t\t\t\tconst request = create(objectStore)\n\t\t\t\trequest.onsuccess = (e) => {\n\t\t\t\t\tconst result = e.target.result\n\t\t\t\t\tresolve(result)\n\t\t\t\t}\n\t\t\t\trequest.onerror = (e) => {\n\t\t\t\t\tconst error = e.target.error\n\t\t\t\t\treject(error)\n\t\t\t\t}\n\t\t\t})\n\t\t})\n\t}\n\tcursor(options) {\n\t\tconst { index, range, direction, onTouch, onDone, onError, writable = false } = options\n\t\treturn this.objectStore(writable).then((objectStore) => {\n\t\t\tconst owner = index ? objectStore.index(index) : objectStore\n\t\t\tconst request = owner.openCursor(range, direction)\n\t\t\trequest.onsuccess = (e) => {\n\t\t\t\tconst cursor = e.target.result\n\t\t\t\tif (cursor) {\n\t\t\t\t\tonTouch(cursor, owner)\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tonDone(cursor, owner)\n\t\t\t\t}\n\t\t\t}\n\t\t\trequest.onerror = (e) => {\n\t\t\t\tconst error = e.target.error\n\t\t\t\treject(error)\n\t\t\t}\n\t\t})\n\t}\n\titerate(fn, options = {}) {\n\t\tconst { writable = false, direction = 'next' } = options\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tthis.cursor({\n\t\t\t\twritable,\n\t\t\t\tdirection,\n\t\t\t\tonTouch: (cursor, owner) => {\n\t\t\t\t\tconst next = () => cursor.continue()\n\t\t\t\t\tconst stop = () => {\n\t\t\t\t\t\towner.transaction.abort()\n\t\t\t\t\t\tresolve()\n\t\t\t\t\t}\n\t\t\t\t\tfn(cursor, next, stop)\n\t\t\t\t},\n\t\t\t\tonDone: () => {\n\t\t\t\t\tresolve()\n\t\t\t\t},\n\t\t\t\tonError: (e) => {\n\t\t\t\t\treject(e)\n\t\t\t\t},\n\t\t\t})\n\t\t})\n\t}\n\tbatch(fns, options = {}) {\n\t\tconst { writable = true } = options\n\t\treturn this.transaction(writable).then((tx) => {\n\t\t\tconst name = this.name\n\t\t\tconst promises = []\n\t\t\tfns.forEach((fn) => {\n\t\t\t\tconst deferer = new Promise((resolve, reject) => {\n\t\t\t\t\tconst objectStore = tx.objectStore(name)\n\t\t\t\t\tconst request = fn(objectStore)\n\t\t\t\t\trequest.onsuccess = (e) => {\n\t\t\t\t\t\tconst result = e.target.result\n\t\t\t\t\t\tresolve(result)\n\t\t\t\t\t}\n\t\t\t\t\trequest.onerror = (e) => {\n\t\t\t\t\t\tconst error = e.target.error\n\t\t\t\t\t\treject(error)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tpromises.push(deferer)\n\t\t\t})\n\t\t\treturn Promise.all(promises)\n\t\t})\n\t}\n\n\t// ==========================================\n\n\tget(key) {\n\t\t// single key\n\t\tif (!Array.isArray(key)) {\n\t\t\treturn this.request(objectStore => objectStore.get(key))\n\t\t}\n\n\t\t// multiple keys\n\t\tconst keys = key\n\t\tconst fns = keys.map(key => objectStore => objectStore.get(key))\n\t\treturn this.batch(fns, { writable: false })\n\t}\n\tkeys() {\n\t\treturn this.request(objectStore => objectStore.getAllKeys())\n\t}\n\tall() {\n\t\treturn this.request(objectStore => objectStore.getAll())\n\t}\n\tcount() {\n\t\treturn this.request(objectStore => objectStore.count())\n\t}\n\t// ==========================================\n\teach(fn) {\n\t\treturn this.iterate((cursor, next) => {\n\t\t\tconst obj = cursor.value\n\t\t\tfn(obj)\n\t\t\tnext()\n\t\t})\n\t}\n\treverse(fn) {\n\t\treturn this.iterate((cursor, next) => {\n\t\t\tconst obj = cursor.value\n\t\t\tfn(obj)\n\t\t\tnext()\n\t\t}, { direction: 'prev' })\n\t}\n\tsome(count = 10, offset = 0) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tlet results = []\n\t\t\tlet i = 0\n\t\t\tlet start = offset\n\t\t\tlet end = offset + count\n\t\t\tlet direction\n\n\t\t\t// offset < 0, means begining from the latest item,\n\t\t\t// for example, offset = -1, means begining from the last item\n\t\t\tif (offset < 0) {\n\t\t\t\tdirection = 'prev'\n\t\t\t\tcount = Math.min(count, -offset)\n\t\t\t\tstart = -(offset + count) || 0\n\t\t\t\tend = start + count\n\t\t\t}\n\n\t\t\tthis.iterate((cursor, next, stop) => {\n\t\t\t\tif (i < start) {\n\t\t\t\t\ti ++\n\t\t\t\t\tnext()\n\t\t\t\t}\n\t\t\t\telse if (i < end) {\n\t\t\t\t\tresults.push(cursor.value)\n\t\t\t\t\ti ++\n\t\t\t\t\tnext()\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tstop()\n\t\t\t\t}\n\t\t\t}, { direction }).then(() => {\n\t\t\t\tif (offset < 0) {\n\t\t\t\t\tresults.reverse()\n\t\t\t\t}\n\t\t\t\tresolve(results)\n\t\t\t}).catch(reject)\n\t\t})\n\t}\n\tfirst() {\n\t\treturn this.some(1).then(items => items[0])\n\t}\n\tlast() {\n\t\treturn this.some(1, -1).then(items => items[0])\n\t}\n\t// =========================\n\tfind(key, value) {\n\t\treturn this.request(objectStore => objectStore.index(key).get(value))\n\t}\n\tquery(key, value, compare) {\n\t\tconst range = (function() {\n\t\t\tswitch (compare) {\n\t\t\t\tcase '>':\n\t\t\t\t\treturn IDBKeyRange.lowerBound(value, true)\n\t\t\t\tcase '>=':\n\t\t\t\t\treturn IDBKeyRange.lowerBound(value)\n\t\t\t\tcase '<':\n\t\t\t\t\treturn IDBKeyRange.upperBound(value, true)\n\t\t\t\tcase '<=':\n\t\t\t\t\treturn IDBKeyRange.upperBound(value)\n\t\t\t\tcase '%':\n\t\t\t\tcase '!=':\n\t\t\t\tcase 'in':\n\t\t\t\t\treturn undefined\n\t\t\t\tdefault:\n\t\t\t\t\treturn IDBKeyRange.only(value)\n\t\t\t}\n\t\t}())\n\n\t\tconst results = []\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tthis.cursor({\n\t\t\t\tindex: key,\n\t\t\t\trange,\n\t\t\t\tonTouch: (cursor, owner) => {\n\t\t\t\t\tlet targetObj = cursor.value\n\t\t\t\t\tlet keyPath = owner.keyPath\n\t\t\t\t\tlet targetValue = parse(targetObj, keyPath)\n\n\t\t\t\t\tif (compare === '!=') {\n\t\t\t\t\t\tif (targetValue !== value) {\n\t\t\t\t\t\t\tresults.push(targetObj)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse if (compare === '%') {\n\t\t\t\t\t\tif (typeof targetValue == 'string' && targetValue.indexOf(value) > -1) {\n\t\t\t\t\t\t\tresults.push(targetObj)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse if (compare === 'in') {\n\t\t\t\t\t\tif (Array.isArray(value) && value.indexOf(targetValue) > -1) {\n\t\t\t\t\t\t\tresults.push(targetObj)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tresults.push(targetObj)\n\t\t\t\t\t}\n\n\t\t\t\t\tcursor.continue()\n\t\t\t\t},\n\t\t\t\tonDone: () => {\n\t\t\t\t\tresolve(results)\n\t\t\t\t},\n\t\t\t\tonError: (e) => {\n\t\t\t\t\treject(e)\n\t\t\t\t},\n\t\t\t})\n\t\t})\n\t}\n\tselect(conditions) {\n\t\tconst currentStore = this.store\n\t\tconst indexes = currentStore.indexes || []\n\t\tconst indexesMapping = {}\n\t\tindexes.forEach((item) => {\n\t\t\tlet { name, keyPath } = item\n\t\t\tindexesMapping[name] = keyPath\n\t\t})\n\n\t\tconst or_conditions = []\n\t\tconst and_conditions = []\n\t\tfor (let i = 0, len = conditions.length; i < len; i ++) {\n\t\t\tlet { key, value, compare, optional } = conditions[i]\n\t\t\tlet keyPath = indexesMapping[key] || key // if there is not such index, use original key as keyPath\n\t\t\tif (optional) {\n\t\t\t\tor_conditions.push({ keyPath, value, compare })\n\t\t\t}\n\t\t\telse {\n\t\t\t\tand_conditions.push({ keyPath, value, compare })\n\t\t\t}\n\t\t}\n\t\tconst determine = function(obj) {\n\t\t\tlet compareAandB = function(a, b, compare) {\n\t\t\t\tif (a === undefined) {\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t\tswitch (compare) {\n\t\t\t\t\tcase '>':\n\t\t\t\t\t\treturn a > b\n\t\t\t\t\tcase '>=':\n\t\t\t\t\t\treturn a >= b\n\t\t\t\t\tcase '<':\n\t\t\t\t\t\treturn a < b\n\t\t\t\t\tcase '<=':\n\t\t\t\t\t\treturn a <= b\n\t\t\t\t\tcase '!=':\n\t\t\t\t\t\treturn a !== b\n\t\t\t\t\tcase '%':\n\t\t\t\t\t\treturn typeof a === 'string' && a.indexOf(b) > -1\n\t\t\t\t\tcase 'in':\n\t\t\t\t\t\treturn Array.isArray(b) && b.indexOf(a) > -1\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn a === b\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (let i = 0, len = and_conditions.length; i < len; i ++) {\n\t\t\t\tlet { keyPath, value, compare } = and_conditions[i]\n\t\t\t\tlet current = parse(obj, keyPath)\n\t\t\t\tif (!compareAandB(current, value, compare)) {\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (let i = 0, len = or_conditions.length; i < len; i ++) {\n\t\t\t\tlet { keyPath, value, compare } = or_conditions[i]\n\t\t\t\tlet current = parse(obj, keyPath)\n\t\t\t\tif (compareAandB(current, value, compare)) {\n\t\t\t\t\treturn true\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false\n\t\t}\n\n\t\tconst results = []\n\t\treturn this.each((obj) => {\n\t\t\tif (determine(obj)) {\n\t\t\t\tresults.push(obj)\n\t\t\t}\n\t\t}).then(() => {\n\t\t\treturn results\n\t\t})\n\t}\n\n\t// =====================================\n\n\tadd(obj) {\n\t\tif (!Array.isArray(obj)) {\n\t\t\treturn this.request(objectStore => objectStore.add(obj), 'readwrite')\n\t\t}\n\n\t\tconst objs = obj\n\t\tconst fns = objs.map(obj => objectStore => objectStore.add(obj))\n\t\treturn this.batch(fns)\n\t}\n\tput(obj) {\n\t\t// single object\n\t\tif (!Array.isArray(obj)) {\n\t\t\treturn this.request(objectStore => objectStore.put(obj), 'readwrite')\n\t\t}\n\n\t\t// multiple objects\n\t\tconst objs = obj\n\t\tconst fns = objs.map(obj => objectStore => objectStore.put(obj))\n\t\treturn this.batch(fns)\n\t}\n\tdelete(key) {\n\t\t// single key\n\t\tif (!Array.isArray(key)) {\n\t\t\treturn this.request(objectStore => objectStore.delete(key), 'readwrite')\n\t\t}\n\n\t\t// multiple keys\n\t\tconst keys = key\n\t\tconst fns = keys.map(key => objectStore => objectStore.delete(key))\n\t\treturn this.batch(fns)\n\t}\n\tremove(obj) {\n\t\tconst keyPah = this.keyPath\n\n\t\t// single obj\n\t\tif (!Array.isArray(obj)) {\n\t\t\tconst key = parse(obj, keyPah)\n\t\t\treturn this.delete(key)\n\t\t}\n\n\t\t// multiple objects\n\t\tconst objs = obj\n\t\tconst fns = objs.map(obj => {\n\t\t\tconst key = parse(obj, keyPah)\n\t\t\treturn objectStore => objectStore.delete(key)\n\t\t})\n\t\treturn this.batch(fns)\n\t}\n\tclear() {\n\t\treturn this.request(objectStore => objectStore.clear(), 'readwrite')\n\t}\n}\n\nconst idb = new InDB({\n\tname: 'InDB',\n\tstores: [\n\t\t{\n\t\t\tname: 'InDB',\n\t\t\tisKeyValue: true,\n\t\t},\n\t],\n})\nconst store = idb.use('InDB')\n\nInDB.setItem = store.setItem.bind(store)\nInDB.getItem = store.getItem.bind(store)\nInDB.removeItem = store.removeItem.bind(store)\nInDB.key = store.key.bind(store)\n\nexport default InDB\n","/**\n * 将一个不规则的路径转化为规则路径\n * @example\n * makeKeyPath(makeKeyChain('name.0..body[0].head')) => name[0].body[0].head\n */\nexport function makeKeyChain(path) {\n  let chain = path.toString().split(/\\.|\\[|\\]/).filter(item => !!item)\n  return chain\n}\nexport function makeKeyPath(chain) {\n  let path = ''\n  for (let i = 0, len = chain.length; i < len; i ++) {\n    let key = chain[i]\n    if (/^[0-9]+$/.test(key)) {\n      path += '[' + key + ']'\n    }\n    else {\n      path += path ? '.' + key : key\n    }\n  }\n  return path\n}\n\n/**\n * 根据keyPath读取对象属性值\n * @param {*} obj\n * @param {*} path\n * @example\n * parse({ child: [ { body: { head: true } } ] }, 'child[0].body.head') => true\n */\nexport function parse(obj, path) {\n  let chain = makeKeyChain(path)\n\n  if (!chain.length) {\n    return obj\n  }\n\n  let target = obj\n  for (let i = 0, len = chain.length; i < len; i ++) {\n    let key = chain[i]\n    if (target[key] === undefined) {\n      return undefined\n    }\n    target = target[key]\n  }\n  return target\n}\n\nexport function modifyError(e) {\n  const { message } = e\n  e.message = message.indexOf('[IndexedDB]') === -1 ? '[IndexedDB]: ' + message : message\n  return e\n}\n\n/**\n * 通过一个异步函数处理一个数组\n * @param {*} items\n * @param {*} fn\n */\nexport function pipeline(items, fn) {\n  return new Promise((resolve, reject) => {\n    let i = 0\n    let len = items.length\n    let through = () => {\n      if (i >= len) {\n        resolve()\n        return\n      }\n      let item = items[i]\n      Promise.resolve().then(() => fn(item, i)).then(() => { i ++ }).then(through).catch(reject)\n    }\n    return through()\n  })\n}\n","let uuid = 0\r\nexport default class Operation {\r\n    page\r\n\r\n    constructor() {\r\n        this.id = uuid++\r\n    }\r\n}","let uuid = 0\r\nexport  default class Record {\r\n    id\r\n    lineNo //出错行\r\n    colNo //出错列\r\n    path // 页面url\r\n    time //时间\r\n    agnet //浏览器信息\r\n    message // 错误信息\r\n    type //错误类型\r\n    device //设备信息\r\n    system //操作系统信息\r\n    network //网络信息\r\n    constructor() {\r\n        this.id = uuid++\r\n    }\r\n}","import InDB from 'indb'\r\n\r\nconst RECORD = 'RECORD' // record story name\r\nconst OPERATION = 'OPERATION' // operation story name\r\nimport Operation from './operation'\r\nimport Record from './record'\r\n\r\nconst noop = function () {\r\n}\r\nexport default class ErrorWatcher {\r\n    db\r\n    currentEvent\r\n\r\n    constructor() {\r\n        this.init()\r\n    }\r\n\r\n    init() {\r\n\r\n        document.addEventListener('click', (e) => {\r\n            this.currentEvent = e\r\n        })\r\n\r\n        window.addEventListener('error', (event) => {\r\n            console.log(event)\r\n            setTimeout(() => {\r\n                console.log(this.currentEvent)\r\n            }, 0)\r\n        })\r\n\r\n        window.addEventListener('unhandledrejection', (e) => {\r\n            console.log(e)\r\n        })\r\n    }\r\n\r\n    createDb() {\r\n        this.db = new InDB({\r\n            name: 'g_monitor',\r\n            stores: [\r\n                {\r\n                    name: RECORD,\r\n                    keyPath: 'id',\r\n                    indexes: [{\r\n                        name: 'id',\r\n                        keyPath: 'id'\r\n                    }]\r\n                },\r\n\r\n                {\r\n                    name: OPERATION,\r\n                    keyPath: 'id',\r\n                    indexes: [{\r\n                        name: 'id',\r\n                        keyPath: 'id'\r\n                    }]\r\n                }\r\n\r\n            ]\r\n        })\r\n    }\r\n\r\n    switchStore(name) {\r\n        if (this.db) {\r\n            this.db.use(name)\r\n        }\r\n    }\r\n\r\n    createRecord() {\r\n        const record = new Record()\r\n        return record\r\n    }\r\n\r\n    createOperation() {\r\n        const operation = new Operation()\r\n        return operation\r\n    }\r\n\r\n\r\n}","import ErrorWatcher from '../src/index'\r\nnew ErrorWatcher()","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else {\n        window.location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}